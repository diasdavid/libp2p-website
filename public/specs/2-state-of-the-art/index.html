<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  	<meta property="og:title" content=" 2 An analysis of the state of the art in network stacks &middot;  libp2p" />
  	<meta property="og:site_name" content="libp2p" />
  	<meta property="og:url" content="/specs/2-state-of-the-art/" />
    
    
  	<meta property="og:type" content="article" />

    <meta property="og:article:published_time" content="0001-01-01T00:00:00Z" />

    
    

  <title>
     2 An analysis of the state of the art in network stacks &middot;  libp2p
  </title>

    <meta name="description" content="make peer-to-peer great again" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="images/favicon.ico">
	  <link rel="apple-touch-icon" href="images/apple-touch-icon.png" />
    
    <link rel="stylesheet" type="text/css" href="../../css/screen.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400|Inconsolata" />


    
      
          <link href="index.xml" rel="alternate" type="application/rss+xml" title="libp2p" />
      
      
    
    <meta name="generator" content="Hugo 0.16" />

    <link rel="canonical" href="../../specs/2-state-of-the-art/" />

    
<div id="particles-js"></div>
<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
<script src="../../js/particles.js"></script>
</head>
<body class="nav-closed">

  <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        
        
    </ul>

</div>
<span class="nav-cover"></span>


 <div class="site-wrapper">


<header class="main-header " style="background-image: url(images/user.jpg)">

    <nav class="main-nav overlay clearfix">
        
    </nav>
<div class="vertical">
        <div class="main-header-content inner">
            <h1 class="page-title">
              <a class="btn-bootstrap-2" href="../../">libp2p</a>
          </h1>
          <h2 class="page-description">make peer-to-peer great again</h2>
        </div>
</div>
    <a class="scroll-down icon-arrow-left" href="#content"><span class="hidden">Scroll Down</span></a>
</header>

  <main id="content" class="content" role="main">


  <article class="post specs">

    <header class="post-header">
        <h1 class="post-title">2 An analysis of the state of the art in network stacks</h1>
        <section class="post-meta">
        
         
        </section>
    </header>

    <section class="post-content">
      

<p>This section presents to the reader an analysis of the available protocols and architectures for network stacks. The goal is to provide the foundations from which to infer the conclusions and understand why <code>libp2p</code> has the requirements and architecture that it has.</p>

<h2 id="2-1-the-client-server-model">2.1 The client-server model</h2>

<p>The client-server model indicates that both parties at the ends of the channel have different roles, that they support different services and/or have different capabilities, or in other words, that they speak different protocols.</p>

<p>Building client-server applications has been the natural tendency for a number of reasons:</p>

<ul>
<li>The bandwidth inside a data center is considerably higher than that available for clients to connect to each other.</li>
<li>Data center resources are considerably cheaper, due to efficient usage and bulk stocking.</li>
<li>It makes it easier for the developer and system admin to have fine grained control over the application.</li>
<li>It reduces the number of heteregeneus systems to be handled (although the number is still considerable).</li>
<li>Systems like NAT make it really hard for client machines to find and talk with each other, forcing a developer to perform very clever hacks to traverse these obstacles.</li>
<li>Protocols started to be designed with the assumption that a developer will create a client-server application from the start.</li>
</ul>

<p>We even learned how to hide all the complexity of a distributed system behind gateways on the Internet, using protocols that were designed to perform a point-to-point operation, such as HTTP, making it opaque for the application to see and understand the cascade of service calls made for each request.</p>

<p><code>libp2p</code> offers a move towards dialer-listener interactions, from the client-server listener, where it is not implicit which of the entities, dialer or listener, has which capabilities or is enabled to perform which actions. Setting up a connection between two applications today is a multilayered problem to solve, and these connections should not have a purpose bias, and should instead support several other protocols to work on top of the established connection. In a client-server model, a server sending data without a prior request from the client is known as a push model, which typically adds more complexity; in a dialer-listener model in comparison, both entities can perform requests independently.</p>

<h2 id="2-2-categorizing-the-network-stack-protocols-by-solutions">2.2 Categorizing the network stack protocols by solutions</h2>

<p>Before diving into the <code>libp2p</code> protocols, it is important to understand the large diversity of protocols already in wide use and deployment that help maintain today&rsquo;s simple abstractions. For example, when one thinks about an HTTP connection, one might naively just think that HTTP/TCP/IP are the main protocols involved, but in reality many more protocols participate, depending on the usage, the networks involved, and so on. Protocols like DNS, DHCP, ARP, OSPF, Ethernet, 802.11 (Wi-Fi) and many others get involved. Looking inside ISPs&rsquo; own networks would reveal dozens more.</p>

<p>Additionally, it&rsquo;s worth noting that the traditional 7-layer OSI model characterization does not fit <code>libp2p</code>. Instead, we categorize protocols based on their role, i.e. the problem they solve. The upper layers of the OSI model are geared towards point-to-point links between applications, whereas the <code>libp2p</code> protocols speak more towards various sizes of networks, with various properties, under various different security models. Different <code>libp2p</code> protocols can have the same role (in the OSI model, this would be &ldquo;address the same layer&rdquo;), meaning that multiple protocols can run simultaneously, all addressing one role (instead of one-protocol-per-layer in traditional OSI stacking). For example, bootstrap lists, mDNS, DHT discovery, and PEX are all forms of the role &ldquo;Peer Discovery&rdquo;; they can coexist and even synergize.</p>

<h3 id="2-2-1-establishing-the-physical-link">2.2.1 Establishing the physical link</h3>

<ul>
<li>Ethernet</li>
<li>Wi-Fi</li>
<li>Bluetooth</li>
<li>USB</li>
</ul>

<h3 id="2-2-2-addressing-a-machine-or-process">2.2.2 Addressing a machine or process</h3>

<ul>
<li>IPv4</li>
<li>IPv6</li>
<li>Hidden addressing, like SDP</li>
</ul>

<h3 id="2-2-3-discovering-other-peers-or-services">2.2.3 Discovering other peers or services</h3>

<ul>
<li>ARP</li>
<li>DHCP</li>
<li>DNS</li>
<li>Onion</li>
</ul>

<h3 id="2-2-4-routing-messages-through-the-network">2.2.4 Routing messages through the network</h3>

<ul>
<li>RIP(1, 2)</li>
<li>OSPF</li>
<li>PPP</li>
<li>Tor</li>
<li>I2P</li>
<li>cjdns</li>
</ul>

<h3 id="2-2-5-transport">2.2.5 Transport</h3>

<ul>
<li>TCP</li>
<li>UDP</li>
<li>UDT</li>
<li>QUIC</li>
<li>WebRTC data channel</li>
</ul>

<h3 id="2-2-6-agreed-semantics-for-applications-to-talk-to-each-other">2.2.6 Agreed semantics for applications to talk to each other</h3>

<ul>
<li>RMI</li>
<li>Remoting</li>
<li>RPC</li>
<li>HTTP</li>
</ul>

<h2 id="2-3-current-shortcommings">2.3 Current shortcommings</h2>

<p>Although we currently have a panoply of protocols available for our services to communicate, the abundance and variety of solutions creates its own problems. It is currently difficult for an application to be able to support and be available through several transports (e.g. the lack of TCP/UDP stack in browser applications).</p>

<p>There is also no &lsquo;presence linking&rsquo;, meaning that there isn&rsquo;t a notion for a peer to announce itself in several transports, so that other peers can guarantee that it is always the same peer.</p>

    </section>

</article>

</main>
    <footer class="site-footer clearfix">
        <section class="copyright"><a href="">libp2p</a> All rights reserved - 2016</section>
        
        <section class="poweredby">Proudly generated by <a class="icon-hugo" href="https://gohugo.io">HUGO</a>, with <a class="icon-theme" href="https://github.com/syui/hugo-theme-air">hugo-theme-air</a> theme</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="../../js/jquery.js"></script>
    <script type="text/javascript" src="../../js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="../../js/index.js"></script>

</body>
</html>

